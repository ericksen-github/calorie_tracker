!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let r={datasets:[{data:[184.6,184.8,184.8,187.4,184,183.2],label:"Weight over time",borderColor:"rgb(106, 212, 134)",fill:!1,yAxisID:"left-y-axis"},{data:[3508,3275,3316,3209,3228,3239],label:"Calories over time",borderColor:"rgb(15, 100, 200)",fill:!1,yAxisID:"right-y-axis"}],labels:["Jan","Feb","Mar","Apr","May","Jun"]};const l=document.getElementById("lineChart"),o=new Chart(l,{type:"line",data:r,options:{scales:{yAxes:[{id:"left-y-axis",type:"linear",position:"left",ticks:{}},{id:"right-y-axis",type:"linear",position:"right",ticks:{},gridLines:{display:!1}}]}}}),a=["Weight","Calories","Exercise Calories","Protein"],i=["weight","calorie","exercise","protein"],d=["rgb(106, 212, 134)","rgb(15, 100, 200)","rgb(102, 57, 133)","rgb(110, 40, 40)"];let c,s,u,m;const p=(()=>{const e=e=>{let t=[],r=[];const o=i[e];v.forEach(e=>{t.push(e[o]),r.push(l(e.date))}),c=a[e],u=d[e],n(t,r)},t=()=>{let e=[],t=[],n=[];v.forEach(r=>{e.push(r.weight),t.push(r.calorie),n.push(l(r.date))}),c=a[0],s=a[1],u=d[0],m=d[1],r(e,t,n)},n=(e,t)=>{const n={datasets:[{data:e,label:[c],borderColor:u,fill:!1}],labels:t};o.data=n,o.options={spanGaps:!0,scales:{yAxes:[{ticks:{}}]}}},r=(e,t,n)=>{const r={datasets:[{data:e,label:c,borderColor:u,fill:!1,yAxisID:"left-y-axis"},{data:t,label:s,borderColor:m,fill:!1,yAxisID:"right-y-axis"}],labels:n};o.data=r,o.options={spanGaps:!0,scales:{yAxes:[{id:"left-y-axis",type:"linear",position:"left",ticks:{}},{id:"right-y-axis",type:"linear",position:"right",ticks:{},gridLines:{display:!1}}]}}},l=e=>(0==(e=e.slice(5)).charAt(0)&&(e=e.slice(1)),e);return{selectGraph:()=>{const n=document.getElementsByClassName("active")[0].id;"weightButton"==n?e(0):"caloriesButton"==n?e(1):"exerciseButton"==n?e(2):"proteinButton"==n?e(3):"weightAndCalories"==n&&t(),o.update()}}})(),g=(e,t)=>({date:e,weight:t[0],calorie:t[1],exercise:t[2],protein:t[3]}),h=(()=>{const e=e=>{e[0]>0?document.getElementById("weightButton").click():e[1]>0?document.getElementById("caloriesButton").click():e[2]>0?document.getElementById("exerciseButton").click():e[3]>0&&document.getElementById("proteinButton").click()},t=()=>{document.getElementById("formWrapper").remove(),document.getElementById("overlay").style.display="none"},n=(e,t)=>{const n=["weightTextBox","calorieTextBox","exerciseTextBox","proteinTextBox"];let r,o=0;for(let e=0;e<t.length;e++)""!=t[e]?isNaN(t[e])||t[e]<0?(document.getElementById(n[e]).style.borderColor="red",r=!1):document.getElementById(n[e]).style.borderColor="black":o++;return 4==o?(alert("All data entries can not be blank."),!1):(l(e)||(r=!1),0!=r||(alert("Make sure you have a date selected and that you only have positive numbers in each text box."),!1))},r=e=>{for(let t=0;t<e.length;t++)e[t]=Math.round(10*e[t])/10,0==e[t]&&(e[t]=null)},l=e=>""!=e||(document.getElementById("formDate").style.background="rgb(250, 149, 149)",!1),o=e=>{for(let t=0;t<v.length;t++)if(v[t].date==e){v.splice(t,1);break}},a=e=>{let t;x.sortTable();for(let n=0;n<v.length;n++)if(v[n].date==e){t=n;break}const n=new Date(v[t].date);if(v[t+1]){const e=new Date(v[t+1].date);let r=Math.round(Math.abs((e-n)/864e5));r>1&&i(t,r,864e5,"upper")}if(v[t-1]){const e=new Date(v[t-1].date);let r=Math.round(Math.abs((n-e)/864e5));r>1&&i(t,r,864e5,"lower")}},i=(e,t,n,r)=>{for(;t>1;){const l=new Date(v[e].date);let o;"upper"==r?(o=new Date(v[e+1].date),o.setDate(o.getDate()-1)):(o=new Date(v[e-1].date),o.setDate(o.getDate()+1)),o=d(o);const a=g(o,[null,null,null,null]);v.push(a),x.sortTable(),o=new Date(o),"upper"==r?t=Math.round(Math.abs((o-l)/n)):(t=Math.round(Math.abs((l-o)/n)),e++)}},d=e=>{let t=e.getUTCMonth()+1,n=e.getUTCDate();return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+n};return{submitButtonPress:()=>{const l=document.getElementById("formDate").value,i=[document.getElementById("weightTextBox").value,document.getElementById("calorieTextBox").value,document.getElementById("exerciseTextBox").value,document.getElementById("proteinTextBox").value];if(!n(l,i))return;o(l),r(i),0==v.length&&e(i);const d=g(l,i);v.push(d),a(l),x.render(),b.saveNewData(),t()},isNumberKey:(e,t)=>{const n=t.which?t.which:t.keyCode;return 46==n?-1===e.indexOf("."):!(46!=n&&n>31&&(n<48||n>57))},removeForm:t}})(),y=()=>{document.getElementById("overlay").style.display="block";const e=document.createElement("div");e.id="formWrapper";const t=document.createElement("div");t.id="formContainer",e.appendChild(t);const n=document.createElement("div");n.id="formTitle",n.innerHTML="Input Form",t.appendChild(n);const r=document.createElement("div");r.id="formDateContainer",t.appendChild(r);const l=document.createElement("input");l.setAttribute("type","date"),l.id="formDate",l.addEventListener("change",()=>{document.getElementById("formDate").style.background="white"}),r.appendChild(l),f(t);const o=document.createElement("div");o.id="buttonContainer",t.appendChild(o);const a=document.createElement("button");a.id="submitButton",a.innerHTML="Submit",a.addEventListener("click",h.submitButtonPress),o.appendChild(a);const i=document.createElement("button");i.id="cancelButton",i.innerHTML="Cancel",i.addEventListener("click",()=>{h.removeForm()}),o.appendChild(i),document.getElementById("main").appendChild(e)},f=e=>{[["weight","Weight","weightTextBox"],["calorie","Calorie Intake","calorieTextBox"],["exercise","Exercise Calories","exerciseTextBox"],["protein","Protein Intake","proteinTextBox"]].forEach(t=>{const n=document.createElement("div");n.className="titleTextContainer",n.id=t[0]+"Container";const r=document.createElement("div");r.className="formSubtitle",r.innerHTML=t[1],n.appendChild(r);const l=document.createElement("input");l.setAttribute("type","text"),l.id=t[2],l.className="formTextBox",l.onkeypress=()=>h.isNumberKey(event.target.value,event),"weight"==t[0]?l.placeholder="in lbs":"protein"==t[0]&&(l.placeholder="in grams"),n.appendChild(l),e.appendChild(n)})},x=(()=>{let e="newest";const t=t=>{"newest"==e||"newest"==t?v.sort((function(e,t){return new Date(e.date)-new Date(t.date)})):v.sort((function(e,t){var n=new Date(e.date);return new Date(t.date)-n}))},n=()=>{let e="";for(let t of v){if(r(t))continue;let n,o,a,i;[n,o,a,i]=l(t,n,o,a,i),e+=`<tr><td>${t.date}</td>\n                         <td>${n}</td>\n                         <td>${o}</td>\n                         <td>${a}</td>\n                         <td>${i}</td>\n                         <td class = "editOuter"><div class = "editButton">Edit</div></td>\n                         <td class = "removeOuter"><div class = "removeButton">X</div></td>\n                     </tr>\n                    `}document.querySelector("tbody").innerHTML=e,o(),t("newest"),p.selectGraph()},r=e=>{if(null==e.weight&&null==e.calorie&&null==e.exercise&&null==e.protein)return!0},l=(e,t,n,r,l)=>[null==e.weight?"":e.weight,null==e.calorie?"":e.calorie,null==e.exercise?"":e.exercise,null==e.protein?"":e.protein],o=()=>{document.querySelectorAll(".editButton").forEach(e=>{e.addEventListener("click",()=>{a(e.parentElement.parentElement)})}),document.querySelectorAll(".removeButton").forEach(e=>{e.addEventListener("click",()=>{i(e.parentElement.parentElement)})})},a=e=>{y();const t=e.children[0].innerHTML;for(let e=0;e<v.length;e++)if(v[e].date==t){document.getElementById("formDate").value=v[e].date,document.getElementById("weightTextBox").value=v[e].weight,document.getElementById("calorieTextBox").value=v[e].calorie,document.getElementById("exerciseTextBox").value=v[e].exercise,document.getElementById("proteinTextBox").value=v[e].protein;break}},i=e=>{const t=e.children[0].innerHTML;e.parentElement.parentElement.deleteRow(e.rowIndex),d(t),p.selectGraph(),b.saveNewData()},d=e=>{if(e==v[0].date)for(v.shift();v[0]&&null==v[0].weight&&null==v[0].calorie&&null==v[0].exercise&&null==v[0].protein;)v.shift();else if(e==v[v.length-1].date)for(v.pop();null==v[v.length-1].weight&&null==v[v.length-1].calorie&&null==v[v.length-1].exercise&&null==v[v.length-1].protein;)v.pop();else for(let t=0;t<v.length;t++)v[t].date==e&&(v[t].weight=null,v[t].calorie=null,v[t].exercise=null,v[t].protein=null)};return{sortTable:t,swapTrackerDirection:()=>{e="newest"==e?"oldest":"newest",t(),n()},render:n}})();let v=[];const b=(()=>{const e=e=>{for(let t=0;t<e.length;t++)v.push(e[t]);x.render()};return{storageAvailable:e=>{var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}},populateStorage:()=>{if(localStorage.getItem("savedData")&&2!=localStorage.getItem("savedData").length){const t=JSON.parse(localStorage.getItem("savedData"));e(t)}else;},saveNewData:()=>{localStorage.setItem("savedData",JSON.stringify(v))}}})(),E=()=>{for(;v.length>0;)v.pop();const e=document.getElementById("table");for(;e.rows.length>1;)e.deleteRow(1);p.selectGraph(),b.saveNewData()},B=[["2020-07-01",[182.2,3254,213,198]],["2020-07-02",[183.2,3412,412,156]],["2020-07-03",[183,3446,460,185]],["2020-07-04",[182.4,2998,621,183]],["2020-07-05",[182.8,3321,415,201]],["2020-07-06",[183.4,3250,587,210]],["2020-07-07",[182.8,3188,355,197]],["2020-07-08",[183.2,3095,301,175]],["2020-07-09",[183.2,3265,150,190]],["2020-07-10",[183.8,3247,187,213]],["2020-07-11",[183.6,3513,458,180]],["2020-07-12",[184.4,3161,230,201]],["2020-07-13",[185,3320,540,192]],["2020-07-14",[184.8,3401,0,215]],["2020-07-15",[185.2,3546,212,190]]];b.storageAvailable("localStorage")&&b.populateStorage(),(()=>{document.getElementById("createFormButton").addEventListener("click",()=>{y()});const e=document.getElementsByClassName("btns");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){const e=document.getElementsByClassName("active");e[0].className=e[0].className.replace(" active",""),this.className+=" active",p.selectGraph()}));document.getElementById("demoButton").addEventListener("click",()=>{(()=>{E();for(let e=0;e<B.length;e++){const t=B[e][0],n=B[e][1],r=g(t,n);v.push(r),x.render()}})()});document.getElementById("clearButton").addEventListener("click",()=>{E()}),document.getElementById("dateHeader").addEventListener("click",()=>{x.swapTrackerDirection()})})()}]);